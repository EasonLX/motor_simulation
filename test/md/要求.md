测试项：
1. 单电机扫频轨迹：
测试夸父、鲁班机器人的髋、踝、手臂电机的空载扫频跟踪轨迹，保存bag包用于CMA-ES拟合
- 测试设备：需要设计和搭建一个摆臂工装，水平摆动，如下图。
- 11.5拿到工装；@杨址帆 找人画结构
[图片]
- 测试内容和方法：使用方便调试的电机调试工具(不需要使用特定API)
（1）确认电流环参数设置正确：发送期望力矩指令（Chirp信号，1-1250Hz, Amplitude - 2A, 25s)，记录力矩反馈，画如右伯德图，确认电流环跟踪的效果
电流环只是空载测试
 11.3测试完电流环情况@杨址帆 安排仰旭写，


[图片]
（2）采数据进行单个电机的转动惯量，摩擦和damping的识别：工装件的质量和转动惯量已知（所以工装件可以设计得简单一点），期望的位置指令（0.1Hz-10Hz，正负10度，20s，chirp信号如右图），通过PD转换为期望力矩（期望的速度指令为0），PD设置与RL训练用的PD值相同（如果响应太激烈，适当低一点），记录电机响应的位置和速度用于CMA-ES拟合。

11.3 验证仿真摆动测试@刘鑫 

细化：
用量产YD100驱动器测试
用量产电流环PI来测，量产参数
幅值暂定2A
摆杆是单侧的，摆杆长度需要重量，重量块 @刘鑫 载荷仿真测试确定实机负载参数；，明确摆杆长度和重量大致，给出转动惯量范围，确保工装正常能用，实际扭矩能够在最大限制范围内完成测试
[图片]
[图片]

- 测试电机型号：测试所有夸父鲁班电机型号；先测4pro的一条腿所有关节，用于后续摆腿测试验证正确性

- 测试量：15组数据：5组空载，5组中负载， 5组大负载

2. 单电机扭矩转速曲线：
通过电机标准测试平台量化夸父电机所用型号电机的扭矩转速限制用于仿真模拟，使用电机测试台架，应该是比较标准化的流程
- 测试内容：产出下面这种曲线：
[图片]

- 测试电机型号：测试所有夸父鲁班电机型号；先测4pro的一条腿所有关节，用于后续摆腿测试验证正确性
11.3之前测试完@杨址帆 用现在台子测试

- 测试量：15组数据：5组空载，5组中负载， 5组大负载

3. 整机悬空摆腿测试：
机器人安装到整机测试台(已有)，使用kuavo-rl仓库相应API进行悬空摆腿摆手测试，先进行双腿的测试，然后再做双臂的。以夸父为例
- 测试内容：
（1）确定目前夸父双腿/双臂的电机工作频率范围：使用或采集之前的跑步/拟人行走/太极等等的bag包数据，对电机pos反馈进行傅立叶变换后统计频率范围，确定整机chirp信号频率范围（0.1Hz-5Hz?，待确定，最好是工况下的频率的两倍）
（2）和单电机扫频的测试内容（2）类似，在整机测试台上固定机器人base，保证机器人不晃动的情况下，通过API给双腿/双臂同时发送期望的位置指令（各个关节的chirp信号由通院提供），PD转换为期望力矩，记录bag包用于CMA-ES拟合，不少于5组数据（每组>=60s)
（3）bag包收集确定轨迹频率范围@刘鑫 
（4）roban测试台设计，十一月20之前 @杨址帆 @吴雨璁 
- 测试量：三台机器，每台机器跑三次；测试夸父鲁班两个型号
10.24 给出urdf和跑步、咏春的轨迹频率分量的范围 @刘鑫 
11.3 给出测试轨迹 @张精文 
11.8 完成整机摆腿测试 @刘鑫 


4. 电机扭矩响应延迟测试：
暂时无法在飞书文档外展示此内容
- 使用阶跃信号测试，阶跃的值设置为 10Nm、额定扭矩、峰值扭矩 三个点，拿到上升曲线
- 使用扭矩测试仪生成指令测试 
- 11.8完成测试@杨址帆 拿到bag


5. 指令的API输出延迟测试：
从bag包确认从ref发送到ref接手再到驱动器内部变为demand的延迟 @刘鑫 
[图片]


6. Base 与各个连杆质量惯量相关测试项
- 11.8完成称重。称重零件，出一个配件重量表格@杨址帆 ，后续划分到各个link @刘鑫 


7. 其他待定确定项
- 电机强度随机范围
- kpkd随机范围
@刘鑫 消融实验确定这些参数随机化的必要性
@刘鑫 开源方案调研列到sim2real表里 G1官方、G1beyondmimic、加速进化、众擎



文档核对项：
1. Kuavo S45 模型的urdf/xml/usd整理
2. roban2.1 模型的urdf/xml/usd整理
3. Kuavo-rl 程序框图整理




---
note记录
single motor：
扭矩转速曲线精确测试
单电机扫频
单电机就需要仿真，精文推进

整机：
双腿扫频摆腿的激励轨迹，精文学生在做
取bag包看傅里叶变换，看频率分布
先双腿再双臂
整机模型推理评估等：

软件相关
测试程序接口、模型部署程序接口
CST/CSP控制接口
urdf/xml/usd整理

几类主要待测试项：
1. 关节转子惯量、摩擦、阻尼，收集实机摆腿数据，通过CMA-ES跑拟合拿到
2. 测试延迟，通信延迟和扭矩响应延迟；base state延迟、ethercat电机延迟，can电机延迟
3. 测试link质量惯量参数准确度
4. 测试关节位置速度噪声、imu噪声
